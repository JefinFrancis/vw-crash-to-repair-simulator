# VW Crash-to-Repair Simulator - Environment Configuration
# Copy this file to .env.local and customize for your environment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
ENVIRONMENT=local
DEBUG=true
LOG_LEVEL=INFO
SECRET_KEY=vw_crash_repair_dev_secret_key_2024

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql+asyncpg://vw_simulator:vw_simulator_dev@localhost:5432/vw_crash_repair
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=vw_crash_repair
DATABASE_USER=vw_simulator
DATABASE_PASSWORD=vw_simulator_dev

# Database Pool Settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# =============================================================================
# CACHE CONFIGURATION (REDIS)
# =============================================================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Cache TTL Settings (in seconds)
CACHE_TTL_PARTS=3600          # 1 hour
CACHE_TTL_DEALERS=1800        # 30 minutes
CACHE_TTL_ESTIMATES=600       # 10 minutes

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_VERSION=v1
API_PREFIX=/api/v1
API_HOST=0.0.0.0
API_PORT=8000

# CORS Settings
CORS_ORIGINS=["http://localhost:3000","http://localhost:8080","http://127.0.0.1:3000"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET","POST","PUT","DELETE","OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# =============================================================================
# BEAMNG INTEGRATION
# =============================================================================
BEAMNG_ENABLED=true
BEAMNG_HOST=localhost
BEAMNG_PORT=25252
BEAMNG_TIMEOUT=30
BEAMNG_RETRY_ATTEMPTS=3
BEAMNG_RETRY_DELAY=5

# BeamNG Scenarios
BEAMNG_DEFAULT_VEHICLE=etk800
BEAMNG_VW_MODELS=["golf_mk7","tcross","tiguan","polo"]
BEAMNG_SCENARIOS_PATH=/scenarios/vw

# =============================================================================
# BRAZILIAN LOCALIZATION
# =============================================================================
TIMEZONE=America/Sao_Paulo
CURRENCY=BRL
LANGUAGE=pt_BR
COUNTRY=BR

# Brazilian Tax Settings
ICMS_RATE=0.18          # 18% ICMS
IPI_RATE=0.10           # 10% IPI
PIS_COFINS_RATE=0.0965  # 9.65% PIS/COFINS

# VW Brazil Settings
VW_BRAZIL_DEALER_PREFIX=VW-BR
VW_BRAZIL_PARTS_PREFIX=5G0
VW_BRAZIL_WARRANTY_MONTHS=36

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# VW Parts API (if available)
VW_PARTS_API_URL=https://api.vw.com.br/parts
VW_PARTS_API_KEY=your_vw_parts_api_key_here
VW_PARTS_API_TIMEOUT=15

# Dealer Network API (if available)
VW_DEALER_API_URL=https://api.vw.com.br/dealers
VW_DEALER_API_KEY=your_vw_dealer_api_key_here
VW_DEALER_API_TIMEOUT=10

# Brazilian Address Validation (CEP)
VIACEP_API_URL=https://viacep.com.br/ws
VIACEP_TIMEOUT=5

# Google Maps API (for dealer locations)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here
GOOGLE_MAPS_GEOCODING_URL=https://maps.googleapis.com/maps/api/geocode

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# JWT Token Settings
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ALGORITHM=HS256

# Password Hashing
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=false

# Session Settings
SESSION_EXPIRE_MINUTES=60
SECURE_COOKIES=false  # Set to true in production
HTTPONLY_COOKIES=true

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Structured Logging
LOG_FORMAT=json
LOG_TIMESTAMP_FORMAT=iso
LOG_CORRELATION_ID=true

# Log Levels by Component
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_DATABASE=WARNING
LOG_LEVEL_CACHE=WARNING
LOG_LEVEL_BEAMNG=DEBUG
LOG_LEVEL_API=INFO

# Metrics
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Health Checks
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Demo and Development
ENABLE_DEMO_MODE=true
ENABLE_SAMPLE_DATA=true
ENABLE_DEBUG_ENDPOINTS=true
ENABLE_API_DOCS=true

# BeamNG Features
ENABLE_LIVE_TELEMETRY=true
ENABLE_CRASH_RECORDING=true
ENABLE_DAMAGE_VISUALIZATION=true

# Business Features
ENABLE_APPOINTMENT_BOOKING=true
ENABLE_INVENTORY_CHECK=true
ENABLE_PRICE_ESTIMATION=true
ENABLE_DEALER_ROUTING=true

# Brazilian Features
ENABLE_CPF_VALIDATION=true
ENABLE_CNPJ_VALIDATION=true
ENABLE_CEP_LOOKUP=true
ENABLE_BRAZILIAN_HOLIDAYS=true

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Hot Reload
ENABLE_HOT_RELOAD=true
WATCH_FILE_CHANGES=true

# Debug Tools
ENABLE_SQL_ECHO=false
ENABLE_QUERY_LOGGING=false
ENABLE_PERFORMANCE_LOGGING=true

# Testing
TEST_DATABASE_URL=postgresql+asyncpg://vw_simulator:vw_simulator_dev@localhost:5432/vw_crash_repair_test
ENABLE_TEST_FIXTURES=true
RESET_DB_ON_RESTART=false

# =============================================================================
# FRONTEND SETTINGS (VITE)
# =============================================================================

# API Configuration
VITE_API_URL=http://localhost:8000
VITE_API_PREFIX=/api/v1

# Application
VITE_ENVIRONMENT=local
VITE_DEBUG=true

# Brazilian Settings
VITE_CURRENCY=BRL
VITE_LANGUAGE=pt_BR
VITE_TIMEZONE=America/Sao_Paulo

# BeamNG Integration
VITE_BEAMNG_ENABLED=true
VITE_BEAMNG_WEBSOCKET_URL=ws://localhost:25252

# Feature Flags
VITE_ENABLE_DEMO_MODE=true
VITE_ENABLE_TELEMETRY=false
VITE_ENABLE_DEBUG_PANEL=true

# Maps and Geolocation
VITE_GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here
VITE_ENABLE_GEOLOCATION=true

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# These settings should be overridden in production environments

# ENVIRONMENT=production
# DEBUG=false
# LOG_LEVEL=WARNING
# SECRET_KEY=your_super_secure_secret_key_here
# DATABASE_URL=postgresql+asyncpg://username:password@production-host:5432/vw_crash_repair
# REDIS_URL=redis://username:password@production-host:6379
# SECURE_COOKIES=true
# RATE_LIMIT_REQUESTS_PER_MINUTE=30
# ENABLE_DEBUG_ENDPOINTS=false
# ENABLE_API_DOCS=false